<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Restaurant Subscription</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="subscStyle.css">
    <style>
        .menu-card {
            /* Define styles for your menu card */
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px;
        }
    </style>
</head>
<body>
<div class="wrapper">
    <form th:action="@{/subscribe}" method="post">
        <h1><strong>Subscribe to Restaurants</strong></h1>

        <div class="input-box">
            <label for="restaurants">Select Restaurants to Subscribe (comma-separated):</label>
            <input type="text" name="restaurants" id="restaurants" placeholder="Restaurant1,Restaurant2,..." required>
            <!-- You can add more input fields for other preferences if needed -->
        </div>

        <button type="submit" class="btn">Subscribe</button>
    </form>
</div>

<h2>Available Restaurants</h2>
<ul>
    <!-- Display available restaurants fetched from Java -->
    <li th:each="restaurant : ${restaurants}">
        <!-- Include a subscription button or form -->
        <form th:action="@{/subscribe}" method="post">
            <input type="hidden" name="restaurantId" th:value="${restaurant.id}" />
            <button type="submit">Subscribe to ${restaurant.name}</button>
        </form>
    </li>
</ul>

<h2>Subscribed Restaurants</h2>
<ul>
    <!-- Display subscribed restaurants fetched from Java -->
    <li th:each="subscribedRestaurant : ${subscribedRestaurants}">
        <h3 th:text="${subscribedRestaurant.name}"></h3>

        <!-- Display menu cards for each subscribed restaurant -->
        <div th:each="menu : ${subscribedRestaurant.menu}" class="menu-card">
            <h4 th:text="${menu.name}"></h4>
            <p th:text="${menu.description}"></p>
            <!-- Add more details as needed -->
        </div>
    </li>
</ul>
</body>
</html>

